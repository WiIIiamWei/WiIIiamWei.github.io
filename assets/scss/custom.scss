/*
    You can add your own custom styles here.
*/

/* 背景图片设置 */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('/bg.webp');
  background-size: cover;
  background-position: 25% 10%;
  background-repeat: no-repeat;
  opacity: 0.2;
  z-index: -1;
  pointer-events: none;
}

/* 深色模式使用不同的背景图片 */
@media (prefers-color-scheme: dark) {
  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('/bg_dark.webp');
    background-size: cover;
    background-position: 18% 10%;
    background-repeat: no-repeat;
    opacity: 0.15;
    z-index: -1;
    pointer-events: none;
  }
}

/* 深色模式使用不同的背景图片（手动切换） */
html[data-scheme="dark"] body::before {
  background-image: url('/bg_dark.webp');
  background-position: 18% 10%;
  opacity: 0.15;
}

kbd {
  margin: 0 .1em;
  padding: .1em .6em;
  font-size: .8em;
  color: #242729;
  background: #fff;
  border: 1px solid #adb3b9;
  border-radius: 3px;
  box-shadow: 0px 1px 0 rgba(12, 13, 14, 0.2), 0 0 0 2px #fff inset;
  white-space: nowrap;
  vertical-align: middle;
  font-family: monospace;
  position: relative;
  top: -3px;
}

// /* Add border radius to article images */
// .article-list--compact article a .article-image {
//   border-radius: var(--card-border-radius);
//   overflow: hidden;
// }

// .article-list--compact article a .article-image img {
//   border-radius: var(--card-border-radius);
// }

/* 将友链的链接元素设置为 Flex 容器 */
.article-list--compact [href] {
  display: flex;
  align-items: center;
  /* 垂直居中对齐文本和头像 */
  justify-content: space-between;
  /* 将文本和头像推向两端 */
}

/* * 为链接中的第一个 div（通常是包含标题和描述的文本容器）设置样式
 * 让它可以缩放并允许内部文本换行
*/
.article-list--compact [href]>div:not(.article-image) {
  flex: 1;
  /* 允许该元素占据所有可用空间 */
  min-width: 0;
  /* 关键属性：允许元素收缩到其内容大小以下，从而触发文本换行 */
  padding-right: 1em;
  /* 在文本和头像之间添加一些间距 */
}

/* 设置头像样式，防止其被压缩 */
.article-list--compact [href] .article-image {
  flex-shrink: 0;
  /* 防止头像被压缩变形 */
  border-radius: var(--card-border-radius);
  overflow: hidden;
}

/* 保持头像图片的圆角 */
.article-list--compact [href] .article-image img {
  border-radius: var(--card-border-radius);
  display: block;
  /* 解决一些潜在的布局问题 */
}

/* Section 卡片图片圆角 */
.section-card>.section-image {
  border-radius: var(--card-border-radius);
  overflow: hidden;
}

.section-card>.section-image img {
  border-radius: var(--card-border-radius);
  display: block;
}

pre,
code,
.code-toolbar,
.highlight {
  font-family: "Cascadia Code", monospace !important;
}

/* Revert KaTeX to default font, not HarmonyOS Sans SC */
.katex,
.katex * {
  font-family: "KaTeX_Main", "Times New Roman", serif !important;
}

.article-page .article-content .highlight,
.article-page .article-content .highlight pre,
.article-page .article-content .highlight code,
html body.article-page div.container.main-container.flex.on-phone--column.extended main.main.full-width article.main-article section.article-content div.highlight,
html body.article-page div.container.main-container.flex.on-phone--column.extended main.main.full-width article.main-article section.article-content div.highlight * {
  font-family: "Cascadia Code", monospace !important;
}

/* Override only the second social icon (Lit): remove forced strokes */
html body div.container.main-container.flex.on-phone--column.extended aside.sidebar.left-sidebar.sticky ol.menu-social li:nth-child(2) svg path {
  stroke: none !important;
  stroke-width: 0 !important;
  fill: #707070 !important;
}

/* Dark mode: lighten the Lit icon fill */
html[data-scheme="dark"] body div.container.main-container.flex.on-phone--column.extended aside.sidebar.left-sidebar.sticky ol.menu-social li:nth-child(2) svg path {
  fill: rgba(255, 255, 255, 0.7) !important;
}